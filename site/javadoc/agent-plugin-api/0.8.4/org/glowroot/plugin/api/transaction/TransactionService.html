<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Tue Aug 11 01:59:54 PDT 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TransactionService (Glowroot Plugin API 0.8.4 API)</title>
<meta name="date" content="2015-08-11">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransactionService (Glowroot Plugin API 0.8.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/glowroot/plugin/api/transaction/TransactionService.html" target="_top">Frames</a></li>
<li><a href="TransactionService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.glowroot.plugin.api.transaction</div>
<h2 title="Interface TransactionService" class="title">Interface TransactionService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">TransactionService</span></pre>
<div class="block">This is the primary service exposed to plugins. Plugins acquire a <code>TransactionService</code>
 instance from <a href="../../../../../org/glowroot/plugin/api/Agent.html#getTransactionService--"><code>Agent.getTransactionService()</code></a>, and they can (and should) cache the
 <code>TransactionService</code> instance for the life of the jvm to avoid looking it up every time it
 is needed (which is often).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#addErrorEntry-java.lang.String-">addErrorEntry</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</code>
<div class="block">Adds a trace entry with the specified error message and duration zero.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#addErrorEntry-java.lang.String-java.lang.Throwable-">addErrorEntry</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
             <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">Adds a trace entry with the specified error message and duration zero.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#addErrorEntry-java.lang.Throwable-">addErrorEntry</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">Adds a trace entry with the specified error message and duration zero.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#addTransactionCustomAttribute-java.lang.String-java.lang.String-">addTransactionCustomAttribute</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                             <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)</code>
<div class="block">Adds an attribute on the current transaction with the specified <code>name</code> and
 <code>value</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#getTimerName-java.lang.Class-">getTimerName</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;adviceClass)</code>
<div class="block">Returns the <code>TimerName</code> instance for the specified <code>adviceClass</code>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#isInTransaction--">isInTransaction</a></span>()</code>
<div class="block">Returns whether a transaction is already being captured.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionError-java.lang.String-">setTransactionError</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</code>
<div class="block">Marks the transaction as an error with the given message.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionError-java.lang.String-java.lang.Throwable-">setTransactionError</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">Marks the transaction as an error with the given message.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionError-java.lang.Throwable-">setTransactionError</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">Marks the transaction as an error with the given message.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionName-java.lang.String-">setTransactionName</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transactionName)</code>
<div class="block">Set the transaction name that is used for aggregation.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionSlowThreshold-long-java.util.concurrent.TimeUnit-">setTransactionSlowThreshold</a></span>(long&nbsp;threshold,
                           <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</code>
<div class="block">Overrides the default slow trace threshold (Configuration &gt; General &gt; Slow trace
 threshold) for the current transaction.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionType-java.lang.String-">setTransactionType</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transactionType)</code>
<div class="block">Set the transaction type that is used for aggregation.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionUser-java.lang.String-">setTransactionUser</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user)</code>
<div class="block">Sets the user attribute on the transaction.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/glowroot/plugin/api/transaction/QueryEntry.html" title="interface in org.glowroot.plugin.api.transaction">QueryEntry</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#startQueryEntry-java.lang.String-java.lang.String-long-org.glowroot.plugin.api.transaction.MessageSupplier-org.glowroot.plugin.api.transaction.TimerName-">startQueryEntry</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queryType,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queryText,
               long&nbsp;queryExecutionCount,
               <a href="../../../../../org/glowroot/plugin/api/transaction/MessageSupplier.html" title="class in org.glowroot.plugin.api.transaction">MessageSupplier</a>&nbsp;messageSupplier,
               <a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</code>
<div class="block"><a href="../../../../../org/glowroot/plugin/api/transaction/QueryEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>QueryEntry</code></a> is a specialized type of <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>TraceEntry</code></a> that is aggregated by its
 query text.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/glowroot/plugin/api/transaction/QueryEntry.html" title="interface in org.glowroot.plugin.api.transaction">QueryEntry</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#startQueryEntry-java.lang.String-java.lang.String-org.glowroot.plugin.api.transaction.MessageSupplier-org.glowroot.plugin.api.transaction.TimerName-">startQueryEntry</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queryType,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queryText,
               <a href="../../../../../org/glowroot/plugin/api/transaction/MessageSupplier.html" title="class in org.glowroot.plugin.api.transaction">MessageSupplier</a>&nbsp;messageSupplier,
               <a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</code>
<div class="block"><a href="../../../../../org/glowroot/plugin/api/transaction/QueryEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>QueryEntry</code></a> is a specialized type of <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>TraceEntry</code></a> that is aggregated by its
 query text.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/glowroot/plugin/api/transaction/Timer.html" title="interface in org.glowroot.plugin.api.transaction">Timer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#startTimer-org.glowroot.plugin.api.transaction.TimerName-">startTimer</a></span>(<a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</code>
<div class="block">Starts a timer for the specified timer name.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction">TraceEntry</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#startTraceEntry-org.glowroot.plugin.api.transaction.MessageSupplier-org.glowroot.plugin.api.transaction.TimerName-">startTraceEntry</a></span>(<a href="../../../../../org/glowroot/plugin/api/transaction/MessageSupplier.html" title="class in org.glowroot.plugin.api.transaction">MessageSupplier</a>&nbsp;messageSupplier,
               <a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</code>
<div class="block">Creates and starts a trace entry with the given <code>messageSupplier</code>.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction">TraceEntry</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#startTransaction-java.lang.String-java.lang.String-org.glowroot.plugin.api.transaction.MessageSupplier-org.glowroot.plugin.api.transaction.TimerName-">startTransaction</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transactionType,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transactionName,
                <a href="../../../../../org/glowroot/plugin/api/transaction/MessageSupplier.html" title="class in org.glowroot.plugin.api.transaction">MessageSupplier</a>&nbsp;messageSupplier,
                <a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</code>
<div class="block">If there is no active transaction, a new transaction is started.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTimerName-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimerName</h4>
<pre><a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;getTimerName(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;adviceClass)</pre>
<div class="block">Returns the <code>TimerName</code> instance for the specified <code>adviceClass</code>.
 
 <code>adviceClass</code> must be a <code>Class</code> with a <a href="../../../../../org/glowroot/plugin/api/weaving/Pointcut.html" title="annotation in org.glowroot.plugin.api.weaving"><code>Pointcut</code></a> annotation that has a
 non-empty <a href="../../../../../org/glowroot/plugin/api/weaving/Pointcut.html#timerName--"><code>Pointcut.timerName()</code></a>. This is how the <code>TimerName</code> is named.
 
 The same <code>TimerName</code> is always returned for a given <code>adviceClass</code>.
 
 The return value can (and should) be cached by the plugin for the life of the jvm to avoid
 looking it up every time it is needed (which is often).</div>
</li>
</ul>
<a name="startTransaction-java.lang.String-java.lang.String-org.glowroot.plugin.api.transaction.MessageSupplier-org.glowroot.plugin.api.transaction.TimerName-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTransaction</h4>
<pre><a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction">TraceEntry</a>&nbsp;startTransaction(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transactionType,
                            <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transactionName,
                            <a href="../../../../../org/glowroot/plugin/api/transaction/MessageSupplier.html" title="class in org.glowroot.plugin.api.transaction">MessageSupplier</a>&nbsp;messageSupplier,
                            <a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</pre>
<div class="block">If there is no active transaction, a new transaction is started.
 
 If there is already an active transaction, this method acts the same as
 <a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#startTraceEntry-org.glowroot.plugin.api.transaction.MessageSupplier-org.glowroot.plugin.api.transaction.TimerName-"><code>startTraceEntry(MessageSupplier, TimerName)</code></a> (the transaction name and type are not
 modified on the existing transaction).</div>
</li>
</ul>
<a name="startTraceEntry-org.glowroot.plugin.api.transaction.MessageSupplier-org.glowroot.plugin.api.transaction.TimerName-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTraceEntry</h4>
<pre><a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction">TraceEntry</a>&nbsp;startTraceEntry(<a href="../../../../../org/glowroot/plugin/api/transaction/MessageSupplier.html" title="class in org.glowroot.plugin.api.transaction">MessageSupplier</a>&nbsp;messageSupplier,
                           <a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</pre>
<div class="block">Creates and starts a trace entry with the given <code>messageSupplier</code>. A timer for the
 specified timer name is also started.
 
 Since entries can be expensive in great quantities, there is a
 <code>maxTraceEntriesPerTransaction</code> property on the configuration page to limit the number
 of entries captured for any given trace.
 
 Once a trace has accumulated <code>maxTraceEntriesPerTransaction</code> entries, this method
 doesn't add new entries to the trace, but instead returns a dummy entry. A timer for the
 specified timer name is still started, since timers are very cheap, even in great quantities.
 The dummy entry adheres to the <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>TraceEntry</code></a> contract and returns the specified
 <a href="../../../../../org/glowroot/plugin/api/transaction/MessageSupplier.html" title="class in org.glowroot.plugin.api.transaction"><code>MessageSupplier</code></a> in response to <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html#getMessageSupplier--"><code>TraceEntry.getMessageSupplier()</code></a>. Calling
 <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html#end--"><code>TraceEntry.end()</code></a> on the dummy entry ends the timer. If <code>endWithError</code> is called
 on the dummy entry, then the dummy entry will be escalated to a real entry. If
 <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html#endWithStackTrace-long-java.util.concurrent.TimeUnit-"><code>TraceEntry.endWithStackTrace(long, TimeUnit)</code></a> is called on the dummy entry and the
 dummy entry duration exceeds the specified threshold, then the dummy entry will be escalated
 to a real entry. If <code>endWithError</code> is called on the dummy entry, then the dummy entry
 will be escalated to a real entry. A hard cap ( <code>maxTraceEntriesPerTransaction * 2</code>) on
 the total number of (real) entries is applied when escalating dummy entries to real entries.
 
 If there is no current transaction, this method does nothing, and returns a no-op instance of
 <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>TraceEntry</code></a>.</div>
</li>
</ul>
<a name="startQueryEntry-java.lang.String-java.lang.String-org.glowroot.plugin.api.transaction.MessageSupplier-org.glowroot.plugin.api.transaction.TimerName-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startQueryEntry</h4>
<pre><a href="../../../../../org/glowroot/plugin/api/transaction/QueryEntry.html" title="interface in org.glowroot.plugin.api.transaction">QueryEntry</a>&nbsp;startQueryEntry(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queryType,
                           <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queryText,
                           <a href="../../../../../org/glowroot/plugin/api/transaction/MessageSupplier.html" title="class in org.glowroot.plugin.api.transaction">MessageSupplier</a>&nbsp;messageSupplier,
                           <a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</pre>
<div class="block"><a href="../../../../../org/glowroot/plugin/api/transaction/QueryEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>QueryEntry</code></a> is a specialized type of <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>TraceEntry</code></a> that is aggregated by its
 query text.</div>
</li>
</ul>
<a name="startQueryEntry-java.lang.String-java.lang.String-long-org.glowroot.plugin.api.transaction.MessageSupplier-org.glowroot.plugin.api.transaction.TimerName-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startQueryEntry</h4>
<pre><a href="../../../../../org/glowroot/plugin/api/transaction/QueryEntry.html" title="interface in org.glowroot.plugin.api.transaction">QueryEntry</a>&nbsp;startQueryEntry(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queryType,
                           <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queryText,
                           long&nbsp;queryExecutionCount,
                           <a href="../../../../../org/glowroot/plugin/api/transaction/MessageSupplier.html" title="class in org.glowroot.plugin.api.transaction">MessageSupplier</a>&nbsp;messageSupplier,
                           <a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</pre>
<div class="block"><a href="../../../../../org/glowroot/plugin/api/transaction/QueryEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>QueryEntry</code></a> is a specialized type of <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction"><code>TraceEntry</code></a> that is aggregated by its
 query text.</div>
</li>
</ul>
<a name="startTimer-org.glowroot.plugin.api.transaction.TimerName-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTimer</h4>
<pre><a href="../../../../../org/glowroot/plugin/api/transaction/Timer.html" title="interface in org.glowroot.plugin.api.transaction">Timer</a>&nbsp;startTimer(<a href="../../../../../org/glowroot/plugin/api/transaction/TimerName.html" title="interface in org.glowroot.plugin.api.transaction">TimerName</a>&nbsp;timerName)</pre>
<div class="block">Starts a timer for the specified timer name. If a timer is already running for the specified
 timer name, it will keep an internal counter of the number of starts, and it will only end
 the timer after the corresponding number of ends.
 
 If there is no current transaction, this method does nothing, and returns a no-op instance of
 <a href="../../../../../org/glowroot/plugin/api/transaction/Timer.html" title="interface in org.glowroot.plugin.api.transaction"><code>Timer</code></a>.</div>
</li>
</ul>
<a name="addErrorEntry-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addErrorEntry</h4>
<pre>void&nbsp;addErrorEntry(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">Adds a trace entry with the specified error message and duration zero. It does not set the
 error attribute on the transaction, which must be done with
 <a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionError-java.lang.Throwable-"><code>setTransactionError(java.lang.Throwable)</code></a> or with <code>endWithError</code> on the root
 entry.
 
 The error message text is captured from <code>Throwable#getMessage()</code>.
 
 This method bypasses the regular <code>maxTraceEntriesPerTransaction</code> check so that errors
 after <code>maxTraceEntriesPerTransaction</code> will still be included in the trace. A hard cap (
 <code>maxTraceEntriesPerTransaction * 2</code>) on the total number of entries is still applied,
 after which this method does nothing.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="addErrorEntry-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addErrorEntry</h4>
<pre>void&nbsp;addErrorEntry(<a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</pre>
<div class="block">Adds a trace entry with the specified error message and duration zero. It does not set the
 error attribute on the transaction, which must be done with
 <a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionError-java.lang.Throwable-"><code>setTransactionError(java.lang.Throwable)</code></a> or with <code>endWithError</code> on the root
 entry.
 
 Since there is no throwable passed to this variant, a stack trace is captured and displayed
 in the UI as a location stack trace (as opposed to an exception stack trace), similar to
 <a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html#endWithStackTrace-long-java.util.concurrent.TimeUnit-"><code>TraceEntry.endWithStackTrace(long, TimeUnit)</code></a>.
 
 This method bypasses the regular <code>maxTraceEntriesPerTransaction</code> check so that errors
 after <code>maxTraceEntriesPerTransaction</code> will still be included in the trace. A hard cap (
 <code>maxTraceEntriesPerTransaction * 2</code>) on the total number of entries is still applied,
 after which this method does nothing.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="addErrorEntry-java.lang.String-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addErrorEntry</h4>
<pre>void&nbsp;addErrorEntry(<a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">Adds a trace entry with the specified error message and duration zero. It does not set the
 error attribute on the transaction, which must be done with
 <a href="../../../../../org/glowroot/plugin/api/transaction/TransactionService.html#setTransactionError-java.lang.Throwable-"><code>setTransactionError(java.lang.Throwable)</code></a> or with <code>endWithError</code> on the root
 entry.
 
 If <code>message</code> is null, then the error message is captured from
 <code>Throwable#getMessage()</code>.
 
 This method bypasses the regular <code>maxTraceEntriesPerTransaction</code> check so that errors
 after <code>maxTraceEntriesPerTransaction</code> will still be included in the trace. A hard cap (
 <code>maxTraceEntriesPerTransaction * 2</code>) on the total number of entries is still applied,
 after which this method does nothing.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="setTransactionType-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionType</h4>
<pre>void&nbsp;setTransactionType(<a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transactionType)</pre>
<div class="block">Set the transaction type that is used for aggregation.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="setTransactionName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionName</h4>
<pre>void&nbsp;setTransactionName(<a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transactionName)</pre>
<div class="block">Set the transaction name that is used for aggregation.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="setTransactionError-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionError</h4>
<pre>void&nbsp;setTransactionError(<a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                         <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">Marks the transaction as an error with the given message. Normally transactions are only
 marked as an error if <code>endWithError</code> is called on the root entry. This method can be
 used to mark the entire transaction as an error from a nested entry.
 
 The error message text is captured from <code>Throwable#getMessage()</code>.
 
 This should be used sparingly. Normally, entries should only mark themselves (using
 <code>endWithError</code>), and let the root entry determine if the transaction as a whole should
 be marked as an error.
 
 E.g., this method is called from the logger plugin, to mark the entire transaction as an
 error if an error is logged through one of the supported logger APIs.
 
 If this is called multiple times within a single transaction, only the first call has any
 effect, and subsequent calls are ignored.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="setTransactionError-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionError</h4>
<pre>void&nbsp;setTransactionError(<a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                         <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</pre>
<div class="block">Marks the transaction as an error with the given message. Normally transactions are only
 marked as an error if <code>endWithError</code> is called on the root entry. This method can be
 used to mark the entire transaction as an error from a nested entry.
 
 This should be used sparingly. Normally, entries should only mark themselves (using
 <code>endWithError</code>), and let the root entry determine if the transaction as a whole should
 be marked as an error.
 
 E.g., this method is called from the logger plugin, to mark the entire transaction as an
 error if an error is logged through one of the supported logger APIs.
 
 If this is called multiple times within a single transaction, only the first call has any
 effect, and subsequent calls are ignored.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="setTransactionError-java.lang.String-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionError</h4>
<pre>void&nbsp;setTransactionError(<a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                         <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
                         <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                         <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">Marks the transaction as an error with the given message. Normally transactions are only
 marked as an error if <code>endWithError</code> is called on the root entry. This method can be
 used to mark the entire transaction as an error from a nested entry.
 
 If <code>message</code> is empty or null, then the error message text is captured from
 <code>Throwable#getMessage()</code>.
 
 This should be used sparingly. Normally, entries should only mark themselves (using
 <code>endWithError</code>), and let the root entry determine if the transaction as a whole should
 be marked as an error.
 
 E.g., this method is called from the logger plugin, to mark the entire transaction as an
 error if an error is logged through one of the supported logger APIs.
 
 If this is called multiple times within a single transaction, only the first call has any
 effect, and subsequent calls are ignored.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="setTransactionUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionUser</h4>
<pre>void&nbsp;setTransactionUser(<a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user)</pre>
<div class="block">Sets the user attribute on the transaction. This attribute is shared across all plugins, and
 is generally set by the plugin that initiated the trace, but can be set by other plugins if
 needed.
 
 The user is used in a few ways:
 <ul>
 <li>The user is displayed when viewing a trace on the trace explorer page
 <li>Traces can be filtered by their user on the trace explorer page
 <li>Glowroot can be configured (using the configuration page) to capture traces for a
 specific user using a lower threshold than normal (e.g. threshold=0 to capture all requests
 for a specific user)
 <li>Glowroot can be configured (using the configuration page) to perform profiling on all
 transactions for a specific user
 </ul>
 
 If profiling is enabled for a specific user, this is activated (if the <code>user</code> matches)
 at the time that this method is called, so it is best to call this method early in the
 transaction.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="addTransactionCustomAttribute-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTransactionCustomAttribute</h4>
<pre>void&nbsp;addTransactionCustomAttribute(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                                   <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                   <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)</pre>
<div class="block">Adds an attribute on the current transaction with the specified <code>name</code> and
 <code>value</code>. A transaction's attributes are displayed when viewing a trace on the trace
 explorer page.
 
 Subsequent calls to this method with the same <code>name</code> on the same transaction will add
 an additional attribute if there is not already an attribute with the same <code>name</code> and
 <code>value</code>.
 
 If there is no current transaction, this method does nothing.
 
 <code>null</code> values are normalized to the empty string.</div>
</li>
</ul>
<a name="setTransactionSlowThreshold-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionSlowThreshold</h4>
<pre>void&nbsp;setTransactionSlowThreshold(long&nbsp;threshold,
                                 <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</pre>
<div class="block">Overrides the default slow trace threshold (Configuration &gt; General &gt; Slow trace
 threshold) for the current transaction. This can be used to store particular traces at a
 lower or higher threshold than the general threshold.
 
 If this is called multiple times for a given transaction, the minimum <code>threshold</code> will
 be used.
 
 If there is no current transaction, this method does nothing.</div>
</li>
</ul>
<a name="isInTransaction--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isInTransaction</h4>
<pre>boolean&nbsp;isInTransaction()</pre>
<div class="block">Returns whether a transaction is already being captured.
 
 This method has very limited use. It should only be used by top-level pointcuts that define a
 transaction, and that do not want to create a entry if they are already inside of an existing
 transaction.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/glowroot/plugin/api/transaction/TraceEntry.html" title="interface in org.glowroot.plugin.api.transaction"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/glowroot/plugin/api/transaction/TransactionService.html" target="_top">Frames</a></li>
<li><a href="TransactionService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2011&#x2013;2015 <a href="https://github.com/glowroot">Glowroot contributors</a>. All rights reserved.</small></p>
</body>
</html>
