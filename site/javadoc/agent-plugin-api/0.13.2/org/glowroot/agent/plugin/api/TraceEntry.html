<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Wed Mar 27 10:06:04 PDT 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TraceEntry (Glowroot Agent Plugin API 0.13.2 API)</title>
<meta name="date" content="2019-03-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TraceEntry (Glowroot Agent Plugin API 0.13.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TraceEntry.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/glowroot/agent/plugin/api/TimerName.html" title="interface in org.glowroot.agent.plugin.api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/glowroot/agent/plugin/api/TraceEntry.html" target="_top">Frames</a></li>
<li><a href="TraceEntry.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.glowroot.agent.plugin.api</div>
<h2 title="Interface TraceEntry" class="title">Interface TraceEntry</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../../org/glowroot/agent/plugin/api/AsyncQueryEntry.html" title="interface in org.glowroot.agent.plugin.api">AsyncQueryEntry</a>, <a href="../../../../../org/glowroot/agent/plugin/api/AsyncTraceEntry.html" title="interface in org.glowroot.agent.plugin.api">AsyncTraceEntry</a>, <a href="../../../../../org/glowroot/agent/plugin/api/QueryEntry.html" title="interface in org.glowroot.agent.plugin.api">QueryEntry</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">TraceEntry</span></pre>
<div class="block">See <a href="../../../../../org/glowroot/agent/plugin/api/ThreadContext.html#startTraceEntry-org.glowroot.agent.plugin.api.MessageSupplier-org.glowroot.agent.plugin.api.TimerName-"><code>ThreadContext.startTraceEntry(MessageSupplier, TimerName)</code></a> for how to create and use
 <code>TraceEntry</code> instances.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#end--">end</a></span>()</code>
<div class="block">End the entry.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#endWithError-java.lang.String-">endWithError</a></span>(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</code>
<div class="block">End the entry and mark the trace entry as an error with the specified throwable.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#endWithError-java.lang.String-java.lang.Throwable-">endWithError</a></span>(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
            <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">End the entry and add the specified <code>errorMessage</code> to the entry.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#endWithError-java.lang.Throwable-">endWithError</a></span>(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">End the entry and mark the trace entry as an error with the specified throwable.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#endWithInfo-java.lang.Throwable-">endWithInfo</a></span>(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">This method is the same as <a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#endWithError-java.lang.Throwable-"><code>endWithError(Throwable)</code></a>, except that it won't escalate a
 dummy entry into a real entry.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#endWithLocationStackTrace-long-java.util.concurrent.TimeUnit-">endWithLocationStackTrace</a></span>(long&nbsp;threshold,
                         <a href="https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</code>
<div class="block">End the entry and capture a stack trace if its total time exceeds the specified
 <code>threshold</code>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/glowroot/agent/plugin/api/Timer.html" title="interface in org.glowroot.agent.plugin.api">Timer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#extend--">extend</a></span>()</code>
<div class="block">Example of query and subsequent iterating over results which goes back to database and pulls
 more results.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#getMessageSupplier--">getMessageSupplier</a></span>()</code>
<div class="block">Returns the message supplier that was supplied when the <code>TraceEntry</code> was created.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="end--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>end</h4>
<pre>void&nbsp;end()</pre>
<div class="block">End the entry.</div>
</li>
</ul>
<a name="endWithError-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endWithError</h4>
<pre>void&nbsp;endWithError(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</pre>
<div class="block">End the entry and mark the trace entry as an error with the specified throwable.
 
 If this is the root entry, then the error flag on the transaction is set.
 
 In case the transaction has accumulated <code>maxTraceEntriesPerTransaction</code> entries and
 this is a dummy entry, then this dummy entry is escalated into a real entry. A hard cap (
 <code>maxTraceEntriesPerTransaction * 2</code>) on the total number of (real) entries is applied
 when escalating dummy entries to real entries.</div>
</li>
</ul>
<a name="endWithError-java.lang.String-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endWithError</h4>
<pre>void&nbsp;endWithError(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
                  <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">End the entry and add the specified <code>errorMessage</code> to the entry.
 
 If <code>message</code> is empty or null, then the error message text is captured from
 <code>Throwable#getMessage()</code>.
 
 If this is the root entry, then the error flag on the transaction is set.
 
 In case the transaction has accumulated <code>maxTraceEntriesPerTransaction</code> entries and
 this is a dummy entry, then this dummy entry is escalated into a real entry. A hard cap (
 <code>maxTraceEntriesPerTransaction * 2</code>) on the total number of (real) entries is applied
 when escalating dummy entries to real entries.</div>
</li>
</ul>
<a name="endWithError-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endWithError</h4>
<pre>void&nbsp;endWithError(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">End the entry and mark the trace entry as an error with the specified throwable.
 
 The error message text is captured from <code>Throwable#getMessage()</code>.
 
 If this is the root entry, then the error flag on the transaction is set.
 
 In case the transaction has accumulated <code>maxTraceEntriesPerTransaction</code> entries and
 this is a dummy entry, then this dummy entry is escalated into a real entry. A hard cap (
 <code>maxTraceEntriesPerTransaction * 2</code>) on the total number of (real) entries is applied
 when escalating dummy entries to real entries.</div>
</li>
</ul>
<a name="endWithInfo-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endWithInfo</h4>
<pre>void&nbsp;endWithInfo(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">This method is the same as <a href="../../../../../org/glowroot/agent/plugin/api/TraceEntry.html#endWithError-java.lang.Throwable-"><code>endWithError(Throwable)</code></a>, except that it won't escalate a
 dummy entry into a real entry.</div>
</li>
</ul>
<a name="endWithLocationStackTrace-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endWithLocationStackTrace</h4>
<pre>void&nbsp;endWithLocationStackTrace(long&nbsp;threshold,
                               <a href="https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</pre>
<div class="block">End the entry and capture a stack trace if its total time exceeds the specified
 <code>threshold</code>.
 
 In case the trace has accumulated <code>maxTraceEntriesPerTransaction</code> entries and this is a
 dummy entry and its total time exceeds the specified threshold, then this dummy entry is
 escalated into a real entry. A hard cap (<code>maxTraceEntriesPerTransaction * 2</code>) on the
 total number of (real) entries is applied when escalating dummy entries to real entries.
 
 This is a no-op for async trace entries (those created by
 <a href="../../../../../org/glowroot/agent/plugin/api/ThreadContext.html#startAsyncTraceEntry-org.glowroot.agent.plugin.api.MessageSupplier-org.glowroot.agent.plugin.api.TimerName-"><code>ThreadContext.startAsyncTraceEntry(MessageSupplier, TimerName)</code></a> and
 <a href="../../../../../org/glowroot/agent/plugin/api/ThreadContext.html#startAsyncQueryEntry-java.lang.String-java.lang.String-org.glowroot.agent.plugin.api.QueryMessageSupplier-org.glowroot.agent.plugin.api.TimerName-"><code>ThreadContext.startAsyncQueryEntry(String, String, QueryMessageSupplier, TimerName)</code></a>).
 This is because async trace entries are used when their end is performed by a different
 thread, and so a stack trace at that time does not point to the code which executed triggered
 the trace entry creation.</div>
</li>
</ul>
<a name="extend--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extend</h4>
<pre><a href="../../../../../org/glowroot/agent/plugin/api/Timer.html" title="interface in org.glowroot.agent.plugin.api">Timer</a>&nbsp;extend()</pre>
<div class="block">Example of query and subsequent iterating over results which goes back to database and pulls
 more results.
 
 Important note for async trace entries (those created by
 <a href="../../../../../org/glowroot/agent/plugin/api/ThreadContext.html#startAsyncTraceEntry-org.glowroot.agent.plugin.api.MessageSupplier-org.glowroot.agent.plugin.api.TimerName-"><code>ThreadContext.startAsyncTraceEntry(MessageSupplier, TimerName)</code></a> and
 <a href="../../../../../org/glowroot/agent/plugin/api/ThreadContext.html#startAsyncQueryEntry-java.lang.String-java.lang.String-org.glowroot.agent.plugin.api.QueryMessageSupplier-org.glowroot.agent.plugin.api.TimerName-"><code>ThreadContext.startAsyncQueryEntry(String, String, QueryMessageSupplier, TimerName)</code></a>):
 this method should not be used by a thread other than the one that created the async trace
 entry.</div>
</li>
</ul>
<a name="getMessageSupplier--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMessageSupplier</h4>
<pre><a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;getMessageSupplier()</pre>
<div class="block">Returns the message supplier that was supplied when the <code>TraceEntry</code> was created.
 
 This can be useful (for example) to retrieve the message supplier in @<a href="../../../../../org/glowroot/agent/plugin/api/weaving/OnReturn.html" title="annotation in org.glowroot.agent.plugin.api.weaving"><code>OnReturn</code></a> so
 that the return value can be added to the message produced by the <code>MessageSupplier</code>.
 
 This returns the message supplier even if the trace has accumulated
 <code>maxTraceEntriesPerTransaction</code> entries and this is a dummy entry.
 
 Under some error conditions this can return <code>null</code>.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TraceEntry.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/glowroot/agent/plugin/api/TimerName.html" title="interface in org.glowroot.agent.plugin.api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/glowroot/agent/plugin/api/TraceEntry.html" target="_top">Frames</a></li>
<li><a href="TraceEntry.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2011&#x2013;2019 <a href="https://github.com/glowroot">Glowroot contributors</a>. All rights reserved.</small></p>
</body>
</html>
